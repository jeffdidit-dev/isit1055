<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Is it 10:55?</title>

<link rel="icon" type="image/png" href="icon.png" />
<link rel="apple-touch-icon" sizes="180x180" href="icon.png" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-title" content="Is It 1055?" />
<meta name="theme-color" content="#000000" />

<style>
body {
  font-family: Arial, sans-serif;
  background: black;
  color: white;
  text-align: center;
  padding-top: 50px;
  overflow-x: hidden;
}

#status { font-size: 80px; margin: 20px; z-index:2; position:relative; }
#clock { font-size: 40px; margin: 20px; z-index:2; position:relative; }

#trashWrapper {
  display: inline-block;
  position: relative;
  z-index: 2;
}

#statusImage {
  width: 300px;
  margin-top: 30px;
  cursor: pointer;
}

/* ‚ùÑÔ∏è Snow (December only) */
#snow {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}
.snowflake {
  position: absolute;
  top: -10px;
  color: white;
  opacity: 0.8;
  animation: fall linear infinite;
}
@keyframes fall { to { transform: translateY(110vh); } }

/* üéÖ Santa Hat */
.santa-hat {
  position: absolute;
  top: -35px;
  right: -20px;
  width: 80px;
  transform: rotate(10deg);
  transition: transform 0.6s ease, opacity 0.6s ease;
}
.santa-hat.fall {
  transform: translateY(120px) rotate(120deg);
  opacity: 0;
}

/* üç¨ Candy Canes */
.candy-cane {
  position: absolute;
  bottom: 40px;
  width: 30px;
  animation: wiggle 1.5s ease-in-out infinite;
}
@keyframes wiggle {
  0%,100% { transform: rotate(0deg); }
  50% { transform: rotate(10deg); }
}

/* Existing animations */
.smash { animation: smash 0.2s ease; }
.shake-slow { animation: shake 1s infinite; }
.shake-fast { animation: shake 0.2s infinite; }
.shake-soft { animation: shakeSoft 1s infinite; }
.shake-small { animation: shakeSmall 0.4s infinite; }
.jump-small { animation: jumpSmall 0.6s ease; }
.jump-big { animation: jumpBig 0.8s ease; }
.bounce { animation: bounce 1s ease; }

@keyframes smash { 100% { transform: scale(0.8); } }
@keyframes shake {
  25% { transform: translateX(-2px); }
  50% { transform: translateX(2px); }
  75% { transform: translateX(-2px); }
}
@keyframes shakeSoft {
  25% { transform: translateX(-1px); }
  50% { transform: translateX(1px); }
  75% { transform: translateX(-1px); }
}
@keyframes shakeSmall {
  25% { transform: translateX(-0.5px); }
  50% { transform: translateX(0.5px); }
  75% { transform: translateX(-0.5px); }
}
@keyframes jumpSmall {
  50% { transform: translateY(-20px); }
}
@keyframes jumpBig {
  50% { transform: translateY(-80px); }
}
@keyframes bounce {
  50% { transform: translateY(-50px); }
}
</style>
</head>

<body>

<div id="snow"></div>

<div id="status">Loading...</div>
<div id="clock">--:--:--</div>

<div id="trashWrapper">
  <img id="statusImage" src="" alt="Status Image" />
</div>

<!-- Sounds -->
<audio id="yesSound" src="yes.mp3" preload="auto"></audio>
<audio id="noSound" src="no.mp3" preload="auto"></audio>
<audio id="xmasMusic" src="christmas.mp3" loop preload="auto"></audio>

<script>
let lastStatus = "";
let musicStarted = false;

/* ‚ùÑÔ∏è Snow (December only) */
if (new Date().getMonth() === 11) {
  const snow = document.getElementById("snow");
  setInterval(() => {
    const flake = document.createElement("div");
    flake.className = "snowflake";
    flake.textContent = "‚ùÑ";
    flake.style.left = Math.random() * 100 + "vw";
    flake.style.fontSize = 10 + Math.random() * 15 + "px";
    flake.style.animationDuration = 5 + Math.random() * 5 + "s";
    snow.appendChild(flake);
    setTimeout(() => flake.remove(), 10000);
  }, 300);
}

function clearDecor() {
  document.querySelectorAll(".santa-hat, .candy-cane").forEach(e => e.remove());
}

function updateStatusDisplay() {
  const now = new Date();
  const is1055 = (now.getHours() === 10 || now.getHours() === 22) && now.getMinutes() === 55;

  document.getElementById("clock").textContent = now.toLocaleTimeString();
  const img = document.getElementById("statusImage");
  const status = document.getElementById("status");
  const wrapper = document.getElementById("trashWrapper");

  clearDecor();

  if (is1055) {
    status.textContent = "Yes";
    img.src = "yes.PNG";

    for (let i = 0; i < 3; i++) {
      const cane = document.createElement("img");
      cane.src = "candy-cane.png";
      cane.className = "candy-cane";
      cane.style.left = 30 + i * 40 + "px";
      wrapper.appendChild(cane);
    }

    lastStatus = "yes";
  } else {
    status.textContent = "No";
    img.src = "no.PNG";

    const hat = document.createElement("img");
    hat.src = "santa-hat.png";
    hat.className = "santa-hat";
    hat.onclick = () => hat.classList.add("fall");
    wrapper.appendChild(hat);

    lastStatus = "no";
  }
}

function handleClick() {
  const yesSound = document.getElementById("yesSound");
  const noSound = document.getElementById("noSound");
  const music = document.getElementById("xmasMusic");

  if (!musicStarted && new Date().getMonth() === 11) {
    music.volume = 0.25;
    music.play().catch(()=>{});
    musicStarted = true;
  }

  if (lastStatus === "yes") {
    document.getElementById("statusImage").className = "bounce";
    yesSound.currentTime = 0;
    yesSound.play();
  } else {
    document.getElementById("statusImage").className = "smash";
    noSound.currentTime = 0;
    noSound.play();
  }
}

updateStatusDisplay();
setInterval(updateStatusDisplay, 1000);
document.getElementById("statusImage").addEventListener("click", handleClick);
</script>

</body>
</html>
