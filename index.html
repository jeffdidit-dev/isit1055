<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Is it 10:55?</title>

<link rel="icon" type="image/png" href="icon.png" />

<style>
body {
  font-family: Arial, sans-serif;
  background: black;
  color: white;
  text-align: center;
  padding-top: 50px;
  overflow-x: hidden;
}

#status { font-size: 80px; margin: 20px; }
#clock { font-size: 40px; margin: 20px; }

/* ===== TRASH + OVERLAYS ===== */

#trashWrapper {
  position: relative;
  display: inline-block;
}

#statusImage {
  width: 300px;
  display: block;
}

/* üéÖ SANTA HAT ‚Äî VISUALLY PINNED TO LID */
.santa-hat {
  position: absolute;

  /* THESE VALUES ARE THE FIX */
  top: 22px;               /* ‚¨ÖÔ∏è pushes it DOWN onto the lid */
  left: 50%;
  transform: translateX(-50%) rotate(-12deg);

  width: 70px;
  pointer-events: auto;
  transition: transform 0.6s ease, opacity 0.6s ease;
  z-index: 5;
}

.santa-hat.fall {
  transform: translateX(-50%) translateY(160px) rotate(140deg);
  opacity: 0;
}

/* ‚ùÑÔ∏è SNOW */
#snow {
  position: fixed;
  inset: 0;
  pointer-events: none;
}

.snowflake {
  position: absolute;
  top: -10px;
  color: white;
  opacity: 0.8;
  animation: fall linear infinite;
}

@keyframes fall {
  to { transform: translateY(110vh); }
}
</style>
</head>

<body>

<div id="snow"></div>

<div id="status">Loading...</div>
<div id="clock">--:--:--</div>

<div id="trashWrapper">
  <img id="statusImage" src="" alt="Trash" />
</div>

<audio id="yesSound" src="yes.mp3"></audio>
<audio id="noSound" src="no.mp3"></audio>

<script>
let lastStatus = "";

/* ‚ùÑÔ∏è December-only snow */
if (new Date().getMonth() === 11) {
  const snow = document.getElementById("snow");
  setInterval(() => {
    const f = document.createElement("div");
    f.className = "snowflake";
    f.textContent = "‚ùÑ";
    f.style.left = Math.random() * 100 + "vw";
    f.style.fontSize = 10 + Math.random() * 14 + "px";
    f.style.animationDuration = 6 + Math.random() * 6 + "s";
    snow.appendChild(f);
    setTimeout(() => f.remove(), 12000);
  }, 350);
}

function clearHat() {
  document.querySelectorAll(".santa-hat").forEach(h => h.remove());
}

function updateStatusDisplay() {
  const now = new Date();
  const is1055 =
    (now.getHours() === 10 || now.getHours() === 22) &&
    now.getMinutes() === 55;

  document.getElementById("clock").textContent =
    now.toLocaleTimeString();

  const status = document.getElementById("status");
  const img = document.getElementById("statusImage");
  const wrapper = document.getElementById("trashWrapper");

  clearHat();

  if (is1055) {
    status.textContent = "Yes";
    img.src = "yes.PNG";
    lastStatus = "yes";
  } else {
    status.textContent = "No";
    img.src = "no.PNG";

    /* üéÖ CREATE HAT */
    const hat = document.createElement("img");
    hat.src = "santa-hat.png";
    hat.className = "santa-hat";
    hat.onclick = () => hat.classList.add("fall");

    wrapper.appendChild(hat);
    lastStatus = "no";
  }
}

function handleClick() {
  if (lastStatus === "yes") {
    document.getElementById("yesSound").play();
  } else {
    document.getElementById("noSound").play();
  }
}

updateStatusDisplay();
setInterval(updateStatusDisplay, 1000);
document
  .getElementById("trashWrapper")
  .addEventListener("click", handleClick);
</script>

</body>
</html>

